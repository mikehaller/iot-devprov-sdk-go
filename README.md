# Go API client for iotdevprov

The Device Provisioning API is used to provision new devices for the Bosch IoT Suite services. It simplifies
provisioning by registering the device in all affected services with a single API call.

Currently the Bosch IoT Hub and Bosch IoT Things service are supported.
The following entities can be provisioned:
* **Device** (Bosch IoT Hub): The Bosch IoT Hub has to be made aware of the Device which will connect to it and send
telemetry data.
* **Credentials** (Bosch IoT Hub): Credentials are required to authenticate Devices which want to connect. If
Devices connect via a gateway, only credentials for the gateway are required. Hence, Credentials are optional in
the Device Provisioning API.
* **Thing** (Bosch IoT Things): A Thing is a *Digital Twin*: Among other things, it stores the state of the
Device and provides an API for it, which is also called *Device-as-a-Service*. [Vorto models](https://vorto.eclipse.org) can be used to define
the capabilities of a Thing.
* **Policy** (Bosch IoT Things): Each Thing must have a reference (`policyId`) to a Policy which defines its access
 control. You can decide to create a specific Policy for each Thing or to re-use a Policy for multiple Things.

Authentication and authorization of the Device Provisioning API is based on *Suite Auth* access tokens. You have
to create a Suite Auth access token which provides full access to the Bosch IoT Hub and Bosch IoT
Things service instances you want to address and provide it as *Bearer Authorization*.

**Note**: If you are using the Asset communication package hybrid offering please use the following server:
- https://deviceprovisioning.eu-h1.bosch-iot-suite.com/api/1


## Overview
This API client was generated by the [OpenAPI Generator](https://openapi-generator.tech) project.  By using the [OpenAPI-spec](https://www.openapis.org/) from a remote server, you can easily generate an API client.

- API version: 1
- Package version: 1.0.0
- Build package: org.openapitools.codegen.languages.GoClientCodegen

## Installation

Install the following dependencies:

```shell
go get github.com/stretchr/testify/assert
go get golang.org/x/oauth2
go get golang.org/x/net/context
go get github.com/antihax/optional
```

Put the package under your project folder and add the following in import:

```golang
import "./iotdevprov"
```

## Documentation for API Endpoints

All URIs are relative to *https://deviceprovisioning.eu-1.bosch-iot-suite.com/api/1*

Class | Method | HTTP request | Description
------------ | ------------- | ------------- | -------------
*DeProvisioningApi* | [**ServiceInstanceIdDevicesDeviceIdDelete**](docs/DeProvisioningApi.md#serviceinstanceiddevicesdeviceiddelete) | **Delete** /{service-instance-id}/devices/{device-id} | De-provisioning a device: Deletes the device, thing, policy and credentials by ID in the underlying Bosch IoT Suite services. 
*ProvisioningApi* | [**ServiceInstanceIdDevicesPost**](docs/ProvisioningApi.md#serviceinstanceiddevicespost) | **Post** /{service-instance-id}/devices | Provision a device: Creates the required resources in the underlying Bosch IoT Suite services. 


## Documentation For Models

 - [CredentialSuite](docs/CredentialSuite.md)
 - [CredentialSuiteResponse](docs/CredentialSuiteResponse.md)
 - [CredentialSuiteResponseAllOf](docs/CredentialSuiteResponseAllOf.md)
 - [CredentialSuiteResponseAllOfAdapters](docs/CredentialSuiteResponseAllOfAdapters.md)
 - [CredentialsBase](docs/CredentialsBase.md)
 - [DeprovisioningResponsePayload](docs/DeprovisioningResponsePayload.md)
 - [HashedPassword](docs/HashedPassword.md)
 - [HashedPasswordAllOf](docs/HashedPasswordAllOf.md)
 - [HubResources](docs/HubResources.md)
 - [HubResponse](docs/HubResponse.md)
 - [Provisioning400ErrorPayload](docs/Provisioning400ErrorPayload.md)
 - [ProvisioningRequestPayload](docs/ProvisioningRequestPayload.md)
 - [ProvisioningResponsePayload](docs/ProvisioningResponsePayload.md)
 - [Psk](docs/Psk.md)
 - [PskAllOf](docs/PskAllOf.md)
 - [RegistrationSuite](docs/RegistrationSuite.md)
 - [RegistrationSuiteDefaults](docs/RegistrationSuiteDefaults.md)
 - [SecretCertificate](docs/SecretCertificate.md)
 - [SecretHash](docs/SecretHash.md)
 - [SecretPassword](docs/SecretPassword.md)
 - [SecretPasswordBase64](docs/SecretPasswordBase64.md)
 - [SecretPsk](docs/SecretPsk.md)
 - [ThingsResources](docs/ThingsResources.md)
 - [X509Cert](docs/X509Cert.md)
 - [X509CertAllOf](docs/X509CertAllOf.md)


## Documentation For Authorization



## SuiteAuth


- **Type**: OAuth
- **Flow**: application
- **Authorization URL**: https://access.bosch-iot-suit.com/v2/token
- **Scopes**: N/A

Example

```golang
auth := context.WithValue(context.Background(), sw.ContextAccessToken, "ACCESSTOKENSTRING")
r, err := client.Service.Operation(auth, args)
```

Or via OAuth2 module to automatically refresh tokens and perform user authentication.

```golang
import "golang.org/x/oauth2"

/* Perform OAuth2 round trip request and obtain a token */

tokenSource := oauth2cfg.TokenSource(createContext(httpClient), &token)
auth := context.WithValue(oauth2.NoContext, sw.ContextOAuth2, tokenSource)
r, err := client.Service.Operation(auth, args)
```


## bearerAuth

- **Type**: HTTP basic authentication

Example

```golang
auth := context.WithValue(context.Background(), sw.ContextBasicAuth, sw.BasicAuth{
    UserName: "username",
    Password: "password",
})
r, err := client.Service.Operation(auth, args)
```



## Author



